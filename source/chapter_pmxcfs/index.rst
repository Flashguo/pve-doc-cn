
第六章  Proxmox 集群文件系统（pmxcfs）
===============================

Proxmox 集群文件系统是一个数据库驱动的文件系统，用于保存配置文件，并利用 corosync
在集群节点间实现配置文件的实时同步。我们利用这个文件系统来管理 PVE 的配置文件。

该文件系统一方面将所有数据保存在磁盘上的一个数据库文件中，同时在内存中保存了一个
拷贝。该设计引入了文件系统总容量的上限，目前该上限为 30MB，但仍然足以保存几千台
虚拟机的配置信息。

该文件系统的优点如下：
- 在所有节点间透明地实时同步所有配置文件。
- 强一致性校验，避免虚拟机 ID 冲突。
- 节点失去多数票时自动进入只读状态。
- 自动更新所有节点上的 corosync 集群配置文件。
- 分布式锁机制。


.. toctree::
   :maxdepth: 2

   posix.md