# 第一章 介绍


Proxmox VE是一个既可以运行虚拟机也可以运行容器的虚拟化平台。Proxmox VE基于Debian Linux开发，并且完全开源。出于灵活性的考虑，Proxmox VE同时支持两种虚拟化技术：KVM虚拟机和LXC容器。

Proxmox VE的一个重要设计目标就是尽可能简化管理员的工作。你既可以用单机模式使用Proxmox VE，也可以组建多节点Proxmox VE集群。所有的管理工作都可以通过基于web页面的管理界面完成，即使是一个小白用户也可以在几分钟内上手安装并使用Proxmox VE。

## 1.1 集中管理


尽管很多人一开始都使用单机方式运行Proxmox VE，但实际上Proxmox VE可以横向扩展为一个拥有大量节点的集群。Proxmox VE的默认安装方式中就已经包含了全套的集群套件。

### 独特的多主集群架构

内嵌的WebGUI管理控制台可以让你纵览所有的KVM虚拟机、LXC容器和整个集群。你也可以通过WebGUI轻松管理你的虚拟机、容器、存储和集群。完全没有必要另外安装单独的管理服务器。

###  Proxmox集群文件系统（pmxcfs）


Proxmox VE使用专门设计的基于数据库的Proxmox文件系统（pmxcfs）保存配置文件。这个文件系统足以让你保存几千台虚拟机的配置信息，并且能够通过corosync将配置文件实时复制到Proxmox VE集群的所有节点。Proxmox文件系统一方面将所有数据都保存在服务器磁盘的一个数据库文件上，以避免数据丢失，另一方面在内存里也复制了一个副本，以提高性能。其中内存副本的最大容量为30M，虽然不是很大，但足以保存几千台虚拟机配置信息。
截至目前，Proxmox是唯一利用这种集群文件系统管理配置信息的虚拟化平台。

### 基于Web的管理界面

Proxmox VE的使用很简单。管理操作可以通过内嵌的WebGUI完成─不需要专门安装管理工具或基于大型数据库的管理服务器节点。多主集群架构能够让你通过任意节点管理整个集群。基于JavaScript框架（ExtJS）开发的集中Web管理界面不仅能够让你通过GUI界面控制一切功能，而且可以浏览每个节点的历史活动和syslog日志，例如虚拟机备份恢复日志、虚拟机在线迁移日志、HA活动日志等。

### 命令行工具


对于那些用惯了Unix Shell或Windows Powershell的高级用户，Proxmox VE提供了一个命令行界面，可以管理虚拟化环境里的全部组件。这个命令行工具不仅有Tab键补全功能，而且提供了完善的Unix man形式的技术文档。

### REST API


Proxmox VE使用了RESTful形式的API。开发人员选用JSON作为主要数据格式，所有的API定义均采用JSON语法。第三方管理工具很容易就可以将Proxmox VE的API集成进去。

###  基于角色的权限管理

在Proxmox VE中你可以用基于角色的方法对所有对象（包括虚拟机、存储、节点等等）设置用户管理权限。你可以定义权限，并控制对每个对象的访问。Proxmox VE的权限管理方式实际上类似于访问控制列表：每个权限都针对特定主体（用户或用户组），每个角色（一组权限）都被限制在特定目录。

### 多种身份认证

Proxmox VE支持多种用户身份认证方法，具体包括Microsoft活动目录，LDAP，Linux系统用户认证，Proxmox VE内嵌身份认证。

## 1.2 支持多种存储类型


Proxmox VE支持多种存储技术。虚拟机镜像既可以保存在服务器本地存储，也可以保存在基于NFS或SAN的共享存储设备上。你可以根据需要自由地为Proxmox VE配置多种存储。实际上，Debian Linux支持的所有类型的存储技术都可以用于Proxmox VE。

用共享存储来保存虚拟机镜像有一个很大的好处，那就是Proxmox VE集群中的所有节点都可以直接访问到该虚拟机镜像，虚拟机就可以从一个Proxmox VE节点在线迁移到其他节点运行，并且虚拟机在迁移过程中可以保持连续运行，无需关机。

Proxmox VE目前支持的网络共享存储类型如下：

- LVM卷组（基于iSCSI网络存储）
- iSCSI网络存储设备
- NFS共享存储
- CIFS共享存储
- Ceph RBD
- iSCSI卷
- GlusterFS

支持的本地存储类型如下：

- LVM卷组（基于本地磁盘、FC磁盘、DRBD等）
- 目录（本地文件系统）
- ZFS

## 1.3 虚拟机备份和恢复

Proxmox VE内嵌了虚拟机备份工具（vzdump），可以在线创建KVM虚拟机和LXC容器的快照备份。创建的备份不仅包括虚拟机和容器的完整镜像数据，同时包含了相应的配置文件信息。

KVM虚拟机在线备份功能兼容所有的存储类型，对于保存在NFS、CIFS、iSCSI LUN、Ceph RBD上的虚拟机镜像，均可以进行备份。目前新的备份文件格式进行过特别优化，确保备份过程的高效和快速（优化内容包括稀疏磁盘镜像文件、非连续镜像文件数据、最小化I/O等）。
