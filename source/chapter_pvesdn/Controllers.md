# 12.5 控制器

某些zone类型需要外部控制器来管理vNet控制平面。目前，这只是bgp-evpn zone插件所需的。

## 12.5.1. EVPN 控制器


对于BGP-EVPN，我们需要一个控制器来管理控制平面。当前支持的软件控制器是“frr”路由器。您可能需要在要部署EVPN区域的每个节点上安装它。

```
apt install frr frr-pythontools
```

配置选项：

- asn

  唯一的BGP ASN编号。强烈推荐使用私有ASN号(64512-65534,4200000000-4294967294)，否则最终可能会被全局路由错误破坏或被破坏。

- peers
  
  要通信的所有节点的IP列表(也可以是外部节点或路由反射器服务器)

## 12.5.2. BGP Controller

bgp 控制器不由区域直接使用。您可以使用它来配置 frr 以管理 bgp 对等体

对于 BGP-evpn，它可用于按节点定义不同的 ASN，因此执行 EBGP。

配置选项：

- 节点

  配置BGP所在节点

- asn

  唯一的BGP ASN编号。强烈推荐使用私有ASN号(64512-65534,4200000000-4294967294)，否则最终可能会被全局路由错误破坏或被破坏。

- peers
  
  要与基础 BGP 网络通信的对等方的 IP 列表。

- ebgp

  如果对等方的远程 AS 不同，则启用 EBGP。

- 回环接口

  如果要使用环回或虚拟接口作为 evpn 网络的源。（适用于多路径）

- ebgp-mutltihop

  如果对等体未直接连接或使用环回，则可以增加跃点数以到达它们。

